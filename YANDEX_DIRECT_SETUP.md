# üéØ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç –∫ Dashboard

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç API v5, –≤–∫–ª—é—á–∞—é—â–∞—è:

### Backend (Python)
- **yandex_direct_api.py** ‚Äî Python-–∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
- –ú–µ—Ç–æ–¥—ã: –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–π, –≥—Ä—É–ø–ø –æ–±—ä—è–≤–ª–µ–Ω–∏–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –æ—Ç—á—ë—Ç–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV
- –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ [tapi-yandex-direct](https://github.com/pavelmaksimov/tapi-yandex-direct)

### Frontend (Dashboard)
- –ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "–Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–ø–æ–∫–∞–∑—ã, –∫–ª–∏–∫–∏, —Ä–∞—Å—Ö–æ–¥, CTR)
- –ì—Ä–∞—Ñ–∏–∫ –¥–∏–Ω–∞–º–∏–∫–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π (30 –¥–Ω–µ–π)
- –¢–∞–±–ª–∏—Ü–∞ –∫–∞–º–ø–∞–Ω–∏–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º
- –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ –≤ CSV
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (–º–æ–±–∏–ª—å–Ω—ã–µ + –¥–µ—Å–∫—Ç–æ–ø)

---

## üìã –®–∞–≥ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ OAuth —Ç–æ–∫–µ–Ω–∞

### 1.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –Ø–Ω–¥–µ–∫—Å.OAuth

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞: https://oauth.yandex.ru/client/new

2. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: "Content Automation Dashboard"
   - **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã**: –í—ã–±–µ—Ä–∏ "–í–µ–±-—Å–µ—Ä–≤–∏—Å—ã"
   - **Callback URL**: `http://localhost:8000/callback` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
   - **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –í—ã–±–µ—Ä–∏:
     - ‚úÖ **–î–∏—Ä–µ–∫—Ç: —á—Ç–µ–Ω–∏–µ (direct:read)**
     - ‚úÖ **–î–∏—Ä–µ–∫—Ç: –∑–∞–ø–∏—Å—å (direct:write)** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. –ù–∞–∂–º–∏ **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**

4. –°–∫–æ–ø–∏—Ä—É–π **Client ID** (–ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞)

### 1.2 –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (–ø—Ä–æ—â–µ)**

1. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ URL (–∑–∞–º–µ–Ω–∏ `YOUR_CLIENT_ID`):
   ```
   https://oauth.yandex.ru/authorize?response_type=token&client_id=YOUR_CLIENT_ID
   ```

2. –†–∞–∑—Ä–µ—à–∏ –¥–æ—Å—Ç—É–ø –∫ –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç

3. –¢–µ–±—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ URL –≤–∏–¥–∞:
   ```
   http://localhost:8000/callback#access_token=YOUR_TOKEN_HERE&...
   ```

4. –°–∫–æ–ø–∏—Ä—É–π `access_token` –∏–∑ URL

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Postman/curl (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)**

```bash
# 1. –ü–æ–ª—É—á–∏ –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–æ—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
https://oauth.yandex.ru/authorize?response_type=code&client_id=YOUR_CLIENT_ID

# 2. –û–±–º–µ–Ω–∏ –∫–æ–¥ –Ω–∞ —Ç–æ–∫–µ–Ω
curl -X POST https://oauth.yandex.ru/token \
  -d "grant_type=authorization_code&code=YOUR_CODE&client_id=YOUR_CLIENT_ID&client_secret=YOUR_SECRET"
```

---

## üìã –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend

### 2.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ Python (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)
python3 --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å Python 3.7+

# –£—Å—Ç–∞–Ω–æ–≤–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É requests
pip install requests

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —É—Å—Ç–∞–Ω–æ–≤–∏ tapi-yandex-direct –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
pip install tapi-yandex-direct
```

### 2.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è yandex_direct_api.py

–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `yandex_direct_api.py` –∏ –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ –Ω–∞–π–¥–∏:

```python
# ===== EXAMPLE USAGE =====

if __name__ == "__main__":
    # –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω –∏ –ª–æ–≥–∏–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥–∞
    ACCESS_TOKEN = os.getenv("YANDEX_DIRECT_TOKEN", "YOUR_TOKEN_HERE")
    LOGIN = os.getenv("YANDEX_DIRECT_LOGIN", "your-login")
```

**–í—Å—Ç–∞–≤—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ:**

```python
ACCESS_TOKEN = "y0_AgAAAABloLmfAAqLXwAAAAD..."  # –¢–≤–æ–π —Ç–æ–∫–µ–Ω –∏–∑ –®–∞–≥–∞ 1
LOGIN = "your-yandex-login"  # –¢–≤–æ–π –ª–æ–≥–∏–Ω –≤ –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç
```

### 2.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ backend

```bash
# –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
python3 yandex_direct_api.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**

```
=== –ü–æ–ª—É—á–∞–µ–º –∫–∞–º–ø–∞–Ω–∏–∏ ===
–ù–∞–π–¥–µ–Ω–æ –∫–∞–º–ø–∞–Ω–∏–π: 3
- –ú–∞—Å—Ç–µ—Ä –ö–æ–º–ø–∞–Ω–∏—è - –û—Å–Ω–æ–≤–Ω–∞—è –∫–∞–º–ø–∞–Ω–∏—è (ID: 123456) - ON
- –†–µ—Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥ - –í–æ–∑–≤—Ä–∞—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ (ID: 123457) - ON
- –ü–æ–∏—Å–∫–æ–≤–∞—è —Ä–µ–∫–ª–∞–º–∞ - –ú–æ—Å–∫–≤–∞ (ID: 123458) - ON

=== –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É ===
{
  "total_impressions": 245380,
  "total_clicks": 8752,
  "total_cost": 127450.5,
  "avg_ctr": 3.57,
  ...
}

=== –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –æ—Ç—á—ë—Ç ===
–û—Ç—á—ë—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω: yandex_direct_report.csv
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å –æ—à–∏–±–∫—É **"invalid_token"** ‚Üí –ø—Ä–æ–≤–µ—Ä—å —Ç–æ–∫–µ–Ω –∏–∑ –®–∞–≥–∞ 1.

---

## üìã –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Frontend –∫ Backend

### 3.1 –°–æ–∑–¥–∞–Ω–∏–µ FastAPI —Å–µ—Ä–≤–µ—Ä–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `yandex_backend.py`:

```python
from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware
from yandex_direct_api import YandexDirectAPI
import os

app = FastAPI()

# CORS –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_methods=["*"],
    allow_headers=["*"],
)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞
ACCESS_TOKEN = os.getenv("YANDEX_DIRECT_TOKEN", "YOUR_TOKEN")
LOGIN = os.getenv("YANDEX_DIRECT_LOGIN", "your-login")
client = YandexDirectAPI(ACCESS_TOKEN, LOGIN)

@app.get("/api/yandex-direct/stats")
async def get_stats():
    """–ü–æ–ª—É—á–∏—Ç—å –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"""
    return client.get_dashboard_stats()

@app.get("/api/yandex-direct/campaigns")
async def get_campaigns():
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π"""
    campaigns = client.get_campaigns()
    return {"campaigns": campaigns}

@app.get("/api/yandex-direct/report")
async def get_report(days: int = 30):
    """–ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á—ë—Ç"""
    from datetime import datetime, timedelta
    date_from = (datetime.now() - timedelta(days=days)).strftime("%Y-%m-%d")
    date_to = datetime.now().strftime("%Y-%m-%d")
    return client.get_report(date_from=date_from, date_to=date_to)

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

### 3.2 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ FastAPI

```bash
pip install fastapi uvicorn
```

### 3.3 –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python3 yandex_backend.py
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:8000

–ü—Ä–æ–≤–µ—Ä—å: http://localhost:8000/api/yandex-direct/stats

### 3.4 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Frontend

–û—Ç–∫—Ä–æ–π `demo/js/yandex-direct.js` –∏ –Ω–∞–π–¥–∏ —Ñ—É–Ω–∫—Ü–∏—é `loadYandexData()`.

–ó–∞–º–µ–Ω–∏ mock –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã:

```javascript
async function loadYandexData() {
    try {
        // –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        const statsResponse = await fetch('http://localhost:8000/api/yandex-direct/stats');
        const stats = await statsResponse.json();
        updateYandexStats(stats);

        // –ü–æ–ª—É—á–∞–µ–º –∫–∞–º–ø–∞–Ω–∏–∏
        const campaignsResponse = await fetch('http://localhost:8000/api/yandex-direct/campaigns');
        const data = await campaignsResponse.json();
        updateYandexTable(data.campaigns);
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
        alert('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç');
    }
}
```

---

## üìã –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 4.1 –ó–∞–ø—É—Å–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

1. –û—Ç–∫—Ä–æ–π Dashboard: http://localhost:8000 (–∏–ª–∏ GitHub Pages)
2. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª **"–Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç"**
3. –î–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è:
   - ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
   - ‚úÖ –ì—Ä–∞—Ñ–∏–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
   - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –∫–∞–º–ø–∞–Ω–∏–π

### 4.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π

- **–ü–æ–∏—Å–∫**: –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞
- **–§–∏–ª—å—Ç—Ä**: –í—ã–±–µ—Ä–∏ —Å—Ç–∞—Ç—É—Å –∫–∞–º–ø–∞–Ω–∏–∏ (–ê–∫—Ç–∏–≤–Ω—ã–µ/–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
- **–≠–∫—Å–ø–æ—Ä—Ç**: –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "–≠–∫—Å–ø–æ—Ä—Ç" ‚Üí —Å–∫–∞—á–∞–µ—Ç—Å—è CSV —Ñ–∞–π–ª
- **–û–±–Ω–æ–≤–∏—Ç—å**: –ù–∞–∂–º–∏ "–û–±–Ω–æ–≤–∏—Ç—å" ‚Üí –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑—è—Ç—Å—è

### 4.3 –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

–û—Ç–∫—Ä–æ–π DevTools (F12) ‚Üí Toggle device toolbar (Ctrl+Shift+M)

–ü—Ä–æ–≤–µ—Ä—å –Ω–∞ iPhone/Android:
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

---

## üìã –®–∞–≥ 5: Deployment –Ω–∞ Production

### 5.1 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env`:

```bash
YANDEX_DIRECT_TOKEN=y0_AgAAAABloLmf...
YANDEX_DIRECT_LOGIN=your-login
```

–ó–∞–≥—Ä—É–∑–∏ –≤ backend:

```python
from dotenv import load_dotenv
load_dotenv()

ACCESS_TOKEN = os.getenv("YANDEX_DIRECT_TOKEN")
LOGIN = os.getenv("YANDEX_DIRECT_LOGIN")
```

### 5.2 –î–µ–ø–ª–æ–π backend

**–í–∞—Ä–∏–∞–Ω—Ç 1: VPS (Recommended)**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git clone your-repo
cd your-repo
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫ —Å Gunicorn
gunicorn yandex_backend:app --workers 4 --bind 0.0.0.0:8000
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: Vercel Serverless**

–°–æ–∑–¥–∞–π `vercel.json`:

```json
{
  "builds": [
    {
      "src": "yandex_backend.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "yandex_backend.py"
    }
  ]
}
```

```bash
vercel deploy
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: Heroku**

```bash
heroku create your-app
git push heroku main
```

### 5.3 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Frontend

–í `demo/js/yandex-direct.js` –∑–∞–º–µ–Ω–∏ URL:

```javascript
const API_URL = 'https://your-backend.com/api/yandex-direct';

async function loadYandexData() {
    const response = await fetch(`${API_URL}/stats`);
    // ...
}
```

---

## üîß Troubleshooting

### –û—à–∏–±–∫–∞: "invalid_token"

**–ü—Ä–∏—á–∏–Ω–∞**: –¢–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∏–ª–∏ –∏—Å—Ç—ë–∫.

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –ü–æ–ª—É—á–∏ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω (–®–∞–≥ 1)
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π login

### –û—à–∏–±–∫–∞: "CORS policy"

**–ü—Ä–∏—á–∏–Ω–∞**: Frontend –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ backend –∏–∑-–∑–∞ CORS.

**–†–µ—à–µ–Ω–∏–µ**:
–î–æ–±–∞–≤—å CORS middleware –≤ backend (—Å–º. –®–∞–≥ 3.1)

### –û—à–∏–±–∫–∞: "Network error"

**–ü—Ä–∏—á–∏–Ω–∞**: Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω: `python3 yandex_backend.py`
2. –ü—Ä–æ–≤–µ—Ä—å URL –≤ frontend: `http://localhost:8000`

### –î–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞**: Mock –¥–∞–Ω–Ω—ã–µ –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

**–†–µ—à–µ–Ω–∏–µ**:
–ó–∞–º–µ–Ω–∏ mock –¥–∞–Ω–Ω—ã–µ –≤ `demo/js/yandex-direct.js` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã (–®–∞–≥ 3.4)

---

## üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| **–ü–æ–∫–∞–∑—ã (Impressions)** | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫–∞–∑–æ–≤ –æ–±—ä—è–≤–ª–µ–Ω–∏–π |
| **–ö–ª–∏–∫–∏ (Clicks)** | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –ø–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º |
| **CTR** | Click-Through Rate (–∫–ª–∏–∫–∏ / –ø–æ–∫–∞–∑—ã * 100%) |
| **–†–∞—Å—Ö–æ–¥ (Cost)** | –û–±—â–∏–π —Ä–∞—Å—Ö–æ–¥ –≤ —Ä—É–±–ª—è—Ö |
| **–°—Ä. CPC (Avg CPC)** | –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ –∫–ª–∏–∫ |
| **–ö–æ–Ω–≤–µ—Ä—Å–∏–∏ (Conversions)** | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω–≤–µ—Ä—Å–∏–π |
| **CR (Conversion Rate)** | Conversion Rate (–∫–æ–Ω–≤–µ—Ä—Å–∏–∏ / –∫–ª–∏–∫–∏ * 100%) |

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

1. **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
   - –î–æ–±–∞–≤—å setInterval –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

2. **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º**
   - –î–æ–±–∞–≤—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–∞–º–ø–∞–Ω–∏—é

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
   - –ù–∞—Å—Ç—Ä–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤ –±—é–¥–∂–µ—Ç–∞

4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏—è–º–∏**
   - –î–æ–±–∞–≤—å —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø –∫–∞–º–ø–∞–Ω–∏–π —á–µ—Ä–µ–∑ API

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ú–µ—Ç—Ä–∏–∫–æ–π**
   - –ü–æ–¥–∫–ª—é—á–∏ –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–∏–∫—É –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Å–∏–π

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API**: https://yandex.ru/dev/direct/doc/
- **Yandex OAuth**: https://oauth.yandex.ru/
- **tapi-yandex-direct**: https://github.com/pavelmaksimov/tapi-yandex-direct
- **FastAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://fastapi.tiangolo.com/

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] –ü–æ–ª—É—á–µ–Ω OAuth —Ç–æ–∫–µ–Ω
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `yandex_direct_api.py`
- [ ] Backend –∑–∞–ø—É—â–µ–Ω –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- [ ] Frontend –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ backend
- [ ] –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Dashboard
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- [ ] –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
**Commit**: `96e3450` ‚Äî Add Yandex Direct integration to Dashboard
**–í–µ—Ç–∫–∞**: `claude/fullstack-developer-docs-01TLYiJMmP8xgF17DiTynZEc`

–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? –ó–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å—ã! üöÄ
